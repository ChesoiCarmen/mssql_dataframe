steps:

  - task: UsePythonVersion@0
    inputs:
      versionSpec: '3.9'
    displayName: 'Use Python 3.9'

  - task: PowerShell@2
    displayName: 'Start SQL Server Express LocalDB'
    inputs:
      targetType: 'inline'
      script: 'sqllocaldb start mssqllocaldb'

  - task: PowerShell@2
    displayName: 'Create Environment & Install Dependancies'
    inputs:
      targetType: 'inline'
      script:
        python -m venv env;
        .\env\Scripts\Activate.ps1;
        python -m pip install --upgrade pip;
        pip install -r requirements-dev.txt;
        pip install -e .;

  - task: PythonScript@0
    displayName: Output Debugging Info
    inputs:
      scriptSource: filePath
      scriptPath: version_check.py
      pythonInterpreter: $(Build.SourcesDirectory)\env\Scripts\python.exe